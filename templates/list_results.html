{% extends "base.html" %}

{% block title %}Available Reports - {{ super() }}{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2>Available Sales Reports</h2>
            {% if current_user.can_upload %}
                <a href="{{ url_for('upload_file') }}" class="btn btn-primary">Upload New File</a>
            {% endif %}
        </div>

        {% if files %}
        <div class="list-group">
            {% for file in files %}
            <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                <div>
                    <h5 class="mb-1">{{ file.name }}</h5>
                    <small class="text-muted">Modified: {{ file.modified }} | Size: {{ file.size }}</small>
                </div>
                <div>
                    <a href="{{ file.view_url }}" class="btn btn-sm btn-info me-2">View</a>
                    <a href="{{ file.download_url }}" class="btn btn-sm btn-success">Download</a>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="alert alert-info" role="alert">
            No reports found. Please upload a <a href="{{ url_for('upload_file') }}" class="alert-link">new file</a> to generate a report.
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
